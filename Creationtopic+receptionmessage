import paho.mqtt.client as mqtt

# définition des topics
topic1 = "maison/cuisine/temperature"
topic2 = "maison/salon/luminosite"
topic3 = "maison/chambre/humidite"

def on_message(client, userdata, message):
    print("Message reçu : " + message.topic + " " + str(message.payload))

# création du client MQTT
client = mqtt.Client()

# définition de la fonction callback
client.on_message = on_message

# connexion au broker MQTT
client.connect("localhost", 1883)

# abonnement aux topics
client.subscribe(topic1)
client.subscribe(topic2)
client.subscribe(topic3)

# boucle de réception des messages
client.loop_forever()
